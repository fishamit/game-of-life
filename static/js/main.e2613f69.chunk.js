(this["webpackJsonppixel-paint"]=this["webpackJsonppixel-paint"]||[]).push([[0],{51:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(17),c=n.n(r),s=(n(51),n(27)),l=n(18),u=n(3),d=n(33),p=function(e,t,n){var a=JSON.parse(JSON.stringify(Object(d.a)(e)));return a[n.y*t.y+t.x].alive=!a[n.y*t.y+t.x].alive,a},y=function(e){for(var t=[],n=0;n<e.y;n++)for(var a=0;a<e.x;a++)t.push({coordinates:{x:a,y:n},alive:!1});return t},j=n(5),b=Object(o.createContext)(),O={arr:[],size:{},painting:!1,currentColor:"#000000ff",zoom:15,playing:!1,turn:0},x=function(e,t){switch(t.type){case"INIT":return Object(u.a)(Object(u.a)({},e),{},{arr:y(t.payload),size:t.payload});case"PAINT_PIXEL":return e.painting?Object(u.a)(Object(u.a)({},e),{},{arr:p(e.arr,t.payload,e.size)}):e;case"SET_PAINTING":return Object(u.a)(Object(u.a)({},e),{},{painting:t.payload});case"ZOOM_IN":return Object(u.a)(Object(u.a)({},e),{},{zoom:e.zoom+1});case"ZOOM_OUT":return Object(u.a)(Object(u.a)({},e),{},{zoom:2===e.zoom?2:e.zoom-1});case"SET_COLOR":return Object(u.a)(Object(u.a)({},e),{},{currentColor:t.payload});case"START_GAME":return Object(u.a)(Object(u.a)({},e),{},{playing:!0});case"STOP_GAME":return Object(u.a)(Object(u.a)({},e),{},{playing:!1,turn:0});case"SET_ARR":return Object(u.a)(Object(u.a)({},e),{},{arr:t.payload,turn:e.turn+1});case"TICK":return Object(u.a)(Object(u.a)({},e),{},{turn:e.turn+1});default:return e}},f=function(e){var t=e.children,n=Object(o.useReducer)(x,O),a=Object(s.a)(n,2),i=a[0],r=a[1];return Object(j.jsx)(b.Provider,{value:{state:i,dispatch:r},children:t})},h=n(19),v=h.a.div(a||(a=Object(l.a)(["\n  width: ","%;\n  height: ","%;\n  background-color: ",";\n  box-sizing: border-box;\n  border: 1px solid black;\n\n  :hover {\n    /* transform: ","; */\n    /* border: ","; */\n    /* box-shadow: ","; */\n    border: ",";\n  }\n"])),(function(e){return 100/e.size.x}),(function(e){return 100/e.size.y}),(function(e){return e.alive?"#222222":"#fff2a8"}),(function(e){return e.playing?"none":"scale(1.2)"}),(function(e){return e.alive?"2px solid teal":"2px solid black"}),(function(e){return e.playing?"none":"0 0 20px 0 #00000099"}),(function(e){return e.playing?"1px solid black":"2px solid blue"}));var g,m=function(e){var t=e.coordinates,n=e.alive,a=Object(o.useContext)(b),i=a.state,r=a.dispatch;return Object(j.jsx)(v,{onMouseDown:function(){i.playing||(r({type:"SET_PAINTING",payload:!0}),r({type:"PAINT_PIXEL",payload:t}))},onMouseEnter:function(){i.playing||r({type:"PAINT_PIXEL",payload:t})},playing:i.playing,alive:n,size:i.size})},T=h.a.div(g||(g=Object(l.a)(["\n  height: ","px;\n  width: ","px;\n  min-height: ","px;\n  min-width: ","px;\n\n  display: flex;\n  flex-wrap: wrap;\n  box-shadow: 0 0 20px 0 #000000ff;\n"])),(function(e){return e.size.y*e.zoom}),(function(e){return e.size.x*e.zoom}),(function(e){return e.size.y*e.zoom}),(function(e){return e.size.x*e.zoom}));var z,w=function(){var e=Object(o.useContext)(b),t=e.state,n=e.dispatch;return Object(j.jsx)(T,{size:t.size,zoom:t.zoom,playing:t.playing,onMouseDown:function(e){e.preventDefault(),n({type:"SET_PAINTING",payload:!0})},children:t.arr.map((function(e){return Object(j.jsx)(m,{coordinates:e.coordinates,alive:e.alive},"".concat(e.coordinates.x,",").concat(e.coordinates.y))}))})},I=n(76),_=n(77),S=n(73),E=n(75),N=n(58),A=h.a.div(z||(z=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])));var C=function(){var e=Object(o.useContext)(b),t=e.state,n=e.dispatch,a=Object(o.useState)(null),i=Object(s.a)(a,2),r=i[0],c=i[1],l=Object(o.useState)(350),p=Object(s.a)(l,2),y=p[0],O=p[1];return Object(o.useEffect)((function(){n({type:"INIT",payload:{x:32,y:32}})}),[]),Object(o.useEffect)((function(){t.playing&&c(setTimeout((function(){!function(e,t,n){var a=JSON.parse(JSON.stringify(Object(d.a)(e))),o=[],i=n.x,r=n.y;a.forEach((function(e){var t=0,n=r*e.coordinates.y+e.coordinates.x+1,c=r*e.coordinates.y+e.coordinates.x-1,s=r*(e.coordinates.y-1)+e.coordinates.x,l=r*(e.coordinates.y+1)+e.coordinates.x,d=r*(e.coordinates.y-1)+e.coordinates.x+1,p=r*(e.coordinates.y+1)+e.coordinates.x+1,y=r*(e.coordinates.y-1)+e.coordinates.x-1,j=r*(e.coordinates.y+1)+e.coordinates.x-1;e.coordinates.x>0&&(a[c].alive&&t++,e.coordinates.y>0&&a[y].alive&&t++,e.coordinates.y<r-1&&a[j].alive&&t++),e.coordinates.x<i-1&&(a[n].alive&&t++,e.coordinates.y>0&&a[d].alive&&t++,e.coordinates.y<r-1&&a[p].alive&&t++),e.coordinates.y>0&&a[s].alive&&t++,e.coordinates.y<r-1&&a[l].alive&&t++,e.alive?t<2||t>3?o.push(Object(u.a)(Object(u.a)({},e),{},{alive:!1})):o.push(Object(u.a)(Object(u.a)({},e),{},{alive:!0})):3===t?o.push(Object(u.a)(Object(u.a)({},e),{},{alive:!0})):o.push(Object(u.a)(Object(u.a)({},e),{},{alive:!1}))})),o.find((function(e){return e.alive}))||t({type:"STOP_GAME"}),t({type:"SET_ARR",payload:o})}(t.arr,n,t.size)}),y))}),[t.turn]),Object(j.jsxs)(A,{onWheel:function(e){e.deltaY<0?n({type:"ZOOM_IN"}):n({type:"ZOOM_OUT"})},onMouseDown:function(e){e.preventDefault()},onMouseUp:function(){return n({type:"SET_PAINTING",payload:!1})},children:[Object(j.jsx)(N.a,{variant:"h2",style:{marginBottom:"50px",color:"white"},children:"Conway's Game of Life"}),Object(j.jsx)(w,{}),Object(j.jsx)(N.a,{variant:"body1",noWrap:!0,style:{color:"white",width:"100px",marginTop:"50px",marginBottom:"0",textAlign:"center"},children:"Frame time"}),Object(j.jsx)(_.a,{min:100,max:1e3,style:{width:"100px"},value:y,onChange:function(e,t){O(t)}}),Object(j.jsxs)(E.a,{marginTop:3,display:"flex",justifyContent:"space-evenly",width:"250px",children:[Object(j.jsx)(I.a,{variant:"contained",color:t.playing?"secondary":"primary",onClick:function(){t.playing?(n({type:"STOP_GAME"}),clearTimeout(r)):(n({type:"START_GAME"}),n({type:"TICK"}))},style:{width:"100px"},children:t.playing?"Stop":"Start"}),Object(j.jsx)(I.a,{disabled:t.playing,variant:"contained",color:"secondary",onClick:function(){return n({type:"INIT",payload:{x:32,y:32}})},style:{width:"100px"},children:"Clear"})]}),Object(j.jsx)(E.a,{marginTop:3,children:Object(j.jsx)(S.a,{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",target:"_blank",children:Object(j.jsx)(N.a,{variant:"body1",children:"Read more"})})}),Object(j.jsx)(N.a,{variant:"body1",children:"By Amit Fisher"})]})};var M=function(){return Object(j.jsx)(f,{children:Object(j.jsx)(C,{})})};c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.e2613f69.chunk.js.map